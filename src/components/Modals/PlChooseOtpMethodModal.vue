<template>
  <modal
    :type="modalType"
    :id="'payday-loan-choose-otp-method-modal'"
    :ariaLabelledby="'myModalLabel-21'"
    :clickOutsideToClose="false"
    :showCloseBtn="false"
    @closeModal="closeModal"
  >
    <template slot="body">
      <div>
        <img
          :src="'/img/pl/dismiss.svg'"
          alt=""
          class="dismiss-modal-btn"
          @click="closeModal"
        />
        <div id="choose-otp-method-title">
          <h2>{{ $t("payday_loan.choose_otp_method.title") }}</h2>
        </div>
        <div class="otp-send-methods-container">
          <div class="d-flex flex-column">
            <div
              class="d-flex justify-content-start align-items-center otp-method"
              v-if="currentOtpType !== otpTypes.EMAIL"
              @click="chooseOtpMethod(otpTypes.EMAIL)"
            >
              <svg
                width="32"
                height="32"
                viewBox="0 0 32 32"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M29.3333 11.4773V22.3333C29.3333 24.644 27.5246 26.5323 25.2458 26.6599L25 26.6667H6.99996C4.68925 26.6667 2.80096 24.858 2.67348 22.5792L2.66663 22.3333V11.4773L15.536 18.2192C15.8266 18.3713 16.1733 18.3713 16.464 18.2192L29.3333 11.4773ZM6.99996 5.33333H25C27.2462 5.33333 29.0934 7.04254 29.3117 9.23139L16 16.2044L2.68821 9.23139C2.89844 7.12361 4.61905 5.46059 6.75208 5.3403L6.99996 5.33333H25H6.99996Z"
                  fill="#5856D6"
                />
              </svg>

              <div class="method-description">
                {{ $t("payday_loan.choose_otp_method.over_email") }}
                <div class="support-icon">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 16 16"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M5.52863 2.86193C5.26829 3.12229 5.26829 3.54439 5.52863 3.80474L9.72391 8L5.52863 12.1953C5.26829 12.4556 5.26829 12.8777 5.52863 13.1381C5.78899 13.3984 6.21109 13.3984 6.47145 13.1381L11.1381 8.4714C11.3984 8.21107 11.3984 7.78894 11.1381 7.5286L6.47145 2.86193C6.21109 2.60159 5.78899 2.60159 5.52863 2.86193Z"
                      fill="#8E8E93"
                    />
                  </svg>
                </div>
              </div>
            </div>

            <div
              class="d-flex justify-content-start align-items-center otp-method"
              v-if="currentOtpType !== otpTypes.VOICE"
              @click="chooseOtpMethod(otpTypes.VOICE)"
            >
              <svg
                width="32"
                height="32"
                viewBox="0 0 32 32"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M5.92696 5.33763L7.22765 4.4701C8.44644 3.65725 10.0908 3.92114 11.07 5.08676L13.0188 7.40634C13.868 8.41723 14.0012 9.85728 13.3483 10.9666L11.5309 14.0536C12.1121 15.4156 13.0132 16.6612 14.2342 17.7904C15.4552 18.9196 16.8072 19.7579 18.2905 20.305L21.0268 18.4304C22.064 17.7198 23.448 17.7882 24.4612 18.6001L26.8214 20.4917C27.9991 21.4355 28.3442 23.1093 27.6287 24.4074L26.862 25.7985C26.0989 27.1832 24.6646 28.0217 23.0969 27.9996C19.3957 27.9474 15.3512 25.7755 10.9632 21.484C6.56882 17.1862 4.25094 13.1303 4.00938 9.31618C3.90776 7.71116 4.63722 6.19771 5.92696 5.33763Z"
                  fill="#34C759"
                />
              </svg>

              <div class="method-description">
                {{ $t("payday_loan.choose_otp_method.over_voice") }}
                <div class="support-icon">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 16 16"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M5.52863 2.86193C5.26829 3.12229 5.26829 3.54439 5.52863 3.80474L9.72391 8L5.52863 12.1953C5.26829 12.4556 5.26829 12.8777 5.52863 13.1381C5.78899 13.3984 6.21109 13.3984 6.47145 13.1381L11.1381 8.4714C11.3984 8.21107 11.3984 7.78894 11.1381 7.5286L6.47145 2.86193C6.21109 2.60159 5.78899 2.60159 5.52863 2.86193Z"
                      fill="#8E8E93"
                    />
                  </svg>
                </div>
              </div>
            </div>

            <div
              class="d-flex justify-content-start align-items-center otp-method"
              v-if="currentOtpType !== otpTypes.SMS"
              @click="chooseOtpMethod(otpTypes.SMS)"
            >
              <svg
                width="32"
                height="32"
                viewBox="0 0 32 32"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect x="2" y="2" width="20" height="20" rx="3" fill="white" />
                <path
                  d="M29.3021 21.7515C29.1973 21.7576 29.1566 21.8493 29.0984 21.9105C27.9692 23.1023 26.6363 24.0557 25.1752 24.7342C21.5897 26.3844 17.946 26.5066 14.2556 25.1743C13.9355 25.052 13.5862 25.0337 13.2544 25.1253C12.7655 25.2537 12.2824 25.4065 11.7993 25.5592C10.3882 26.0128 8.95423 26.2211 7.48633 25.9293C7.4708 25.9262 7.41391 25.9136 7.40202 25.9072C7.31899 25.8624 7.27442 25.8083 7.38145 25.712C7.46298 25.657 7.5444 25.5959 7.62594 25.547C8.38844 25.0275 9.10444 24.459 9.57585 23.6217C9.96583 22.925 9.90176 22.5216 9.41289 22.0021C6.65966 19.105 5.44321 15.6335 6.04854 11.5446C6.39181 9.22828 7.4047 7.23583 8.86563 5.5001C9.75037 4.44881 10.804 3.59923 11.9565 2.89027C12.0205 2.84752 12.1253 2.83526 12.1369 2.72523C12.1194 2.66415 12.0728 2.68248 12.0379 2.68248C10.0763 2.68248 8.1147 2.63974 6.159 2.69475C4.29062 2.74976 2.66663 4.27152 2.66663 6.45352C2.6783 12.8343 2.66663 19.209 2.66663 25.5837C2.66663 27.5578 4.10431 29.2141 5.98437 29.2936C7.57344 29.3547 23.7084 29.3303 25.8038 29.318H25.833C27.7771 29.2997 29.337 27.6373 29.3253 25.5959V22.0205C29.3253 21.9288 29.3545 21.8371 29.3021 21.7515Z"
                  fill="#1777FB"
                />
                <path
                  d="M10.2511 10.3956C10.0299 10.4506 9.85535 10.6401 9.80296 10.8724C9.72732 11.2146 9.93099 11.563 10.2628 11.6424C10.4025 11.673 10.548 11.6913 10.6935 11.6913C11.3222 11.6974 11.9565 11.6913 12.5852 11.6974C12.6551 11.7035 12.7366 11.6547 12.7948 11.7585C12.7424 11.8258 12.69 11.8991 12.6376 11.9724C11.7354 13.1703 10.8332 14.3743 9.93677 15.5723C9.71553 15.8718 9.59918 16.2018 9.76214 16.5686C9.92509 16.9353 10.2569 17.0086 10.5945 17.027C10.868 17.0453 11.1359 17.033 11.4094 17.033C12.3523 17.033 13.2894 17.0391 14.2324 17.027C14.733 17.0209 15.0007 16.6969 14.9483 16.2141C14.9017 15.829 14.6515 15.6273 14.1916 15.6212C13.3709 15.6152 12.5444 15.6212 11.6654 15.6212C11.7585 15.4868 11.8168 15.4073 11.8808 15.3278C12.6433 14.3194 13.4058 13.3048 14.1683 12.2842C14.3894 11.9847 14.6106 11.6852 14.7503 11.3369C14.9075 10.9334 14.7387 10.5485 14.3429 10.4079C14.1625 10.3589 13.9821 10.3345 13.7957 10.3406C12.7596 10.3345 11.7178 10.3345 10.6817 10.3406C10.5363 10.3406 10.3907 10.3589 10.2511 10.3956Z"
                  fill="#1777FB"
                />
                <path
                  d="M25.1519 17.1981C26.543 17.0514 27.4452 15.9574 27.3986 14.4111C27.352 12.8831 26.2694 11.838 24.7851 11.8869C23.3882 11.9296 22.4045 13.1031 22.4511 14.6739C22.4279 16.2018 23.6327 17.357 25.1519 17.1981ZM23.912 14.5272C23.912 13.7632 24.3544 13.262 24.983 13.2987C25.2565 13.3048 25.5127 13.4515 25.6756 13.6838C26.0074 14.1483 26.0074 14.9306 25.6698 15.3951C25.6175 15.4562 25.5651 15.5174 25.501 15.5662C25.0819 15.9084 24.4824 15.8229 24.1623 15.3828C23.9877 15.1323 23.9004 14.8328 23.912 14.5272Z"
                  fill="#1777FB"
                />
                <path
                  d="M16.485 17.0881C17.1311 17.3081 17.7305 17.2287 18.2602 16.7764C18.3999 16.6603 18.4406 16.6847 18.5396 16.813C18.7317 17.0758 19.0635 17.1675 19.3545 17.0514C19.6397 16.9597 19.8376 16.6786 19.8376 16.3608C19.8493 15.1384 19.855 13.916 19.8376 12.6937C19.8318 12.2047 19.401 11.893 18.9412 11.9908C18.7026 12.0397 18.557 12.2169 18.4173 12.4063C17.6897 11.7401 16.8864 11.6974 16.0949 12.1924C15.1403 12.7792 14.7852 13.7326 14.9075 14.851C15.0239 15.884 15.4488 16.7336 16.485 17.0881ZM17.4395 13.2987C17.7131 13.3048 17.9692 13.4454 18.1322 13.6838C18.4581 14.1483 18.4581 14.9122 18.1322 15.3768C18.074 15.4562 18.0099 15.5235 17.9401 15.5785C17.5152 15.9085 16.9156 15.8168 16.6013 15.3768C16.4499 15.1628 16.3685 14.9062 16.3568 14.6372C16.351 13.7754 16.7993 13.2559 17.4395 13.2987Z"
                  fill="#1777FB"
                />
                <path
                  d="M20.4778 16.2935C20.4778 16.6786 20.699 17.0025 20.99 17.0819C21.0598 17.1002 21.1355 17.1063 21.2053 17.1063C21.6186 17.094 21.9446 16.7335 21.9387 16.2996C21.9445 15.3523 21.9387 14.4049 21.9387 13.4576C21.9387 12.5042 21.9445 11.5446 21.9387 10.5912C21.9387 10.1023 21.6418 9.79662 21.1994 9.80281C20.7687 9.80281 20.4835 10.1083 20.4777 10.579C20.4719 10.8662 20.4777 11.1475 20.4777 11.4347L20.4778 16.2935Z"
                  fill="#1777FB"
                />
              </svg>

              <div class="method-description">
                {{ $t("payday_loan.choose_otp_method.over_zalo") }}
                <div class="support-icon">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 16 16"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M5.52863 2.86193C5.26829 3.12229 5.26829 3.54439 5.52863 3.80474L9.72391 8L5.52863 12.1953C5.26829 12.4556 5.26829 12.8777 5.52863 13.1381C5.78899 13.3984 6.21109 13.3984 6.47145 13.1381L11.1381 8.4714C11.3984 8.21107 11.3984 7.78894 11.1381 7.5286L6.47145 2.86193C6.21109 2.60159 5.78899 2.60159 5.52863 2.86193Z"
                      fill="#8E8E93"
                    />
                  </svg>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </template>
  </modal>
</template>

<script>
import Modal from "./Modal";
import { MODAL_TYPE } from "@/helpers/constants";
import { mapGetters, mapMutations } from "vuex";
import { OTP_TYPE } from "../../helpers/constants";

export default {
  name: "PlChooseOtpMethodModal",
  components: { Modal },
  props: {},
  data() {
    return {
      otpTypes: OTP_TYPE,
      modalType: MODAL_TYPE.PL_CHOOSE_OTP_METHOD
    };
  },
  computed: {
    ...mapGetters({
      modalContent: "modal/currentModalContent",
      currentOtpType: "paydayLoan/currentOtpType"
    })
  },
  methods: {
    ...mapMutations({
      setOtpType: "paydayLoan/SET_OTP_TYPE"
    }),
    closeModal() {
      this.$emit("closeModal");
      this.$store.commit("modal/DESTROY_MODAL");
    },
    chooseOtpMethod(method) {
      this.$emit("chooseOtpMethod", method);
      this.setOtpType(method);
      this.$store.commit("modal/DESTROY_MODAL");
    }
  }
};
</script>

<style scoped lang="scss">
@import "src/assets/scss/variables";
</style>
